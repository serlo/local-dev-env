{
  "name": "serlo-local-dev-env",
  "version": "0.0.0",
  "repository": "git@github.com:serlo/local-dev-env.git",
  "license": "Apache License 2.0",
  "author": "Serlo Education e.V.",
  "type": "module",
  "scripts": {
    "format": "yarn prettier . --write",
    "kratos": "yarn start:only:kratos",
    "kratos:import-users": "RUN_IN_DOCKER=1 ./scripts/start.sh -f docker/db-layer.yml -f kratos/docker-compose.import-users-job.yml",
    "kratos:new-user": "./kratos/new-user.sh",
    "kratos:rebuild": "docker-compose -f docker/net.yml -f docker/kratos.yml up -d --force-recreate --no-deps --build kratos",
    "mongo:dump": "docker-compose -f docker/net.yml -f docker/rocket-chat.yml exec -u root mongodb mongodump && docker-compose cp mongodb:/dump .",
    "mysql": "docker-compose -f docker/net.yml -f docker/mysql.yml exec mysql mysql --user=root --password=secret serlo",
    "mysql:dump": "ts-node --experimental-specifier-resolution=node scripts/mysql-dump",
    "mysql:import-anonymous-data": "ts-node --experimental-specifier-resolution=node scripts/mysql-import-anonymous-data",
    "mysql:rollback": "ts-node --experimental-specifier-resolution=node scripts/mysql-rollback",
    "postgres": "docker-compose -f docker/net.yml -f docker/kratos.yml exec postgres psql -U serlo -d kratos",
    "postgres:dump": "docker-compose -f docker/net.yml -f docker/kratos.yml exec postgres pg_dump --clean --if-exists kratos --user serlo > postgres/001-init.sql",
    "postgres:rollback": "docker-compose -f docker/net.yml -f docker/kratos.yml exec -T postgres bash -c 'psql -U serlo kratos < /docker-entrypoint-initdb.d/001-init.sql'",
    "prepare:rocket-chat": "./scripts/prepare_rocketchat.sh",
    "redis:cli": "./scripts/redis.sh",
    "redis:empty": "./scripts/redis.sh FLUSHDB",
    "redis:list": "./scripts/redis.sh KEYS '*'",
    "start": "./scripts/start.sh kratos api mysql db-layer",
    "start:chat": "./scripts/start.sh kratos api mysql db-layer rocket-chat",
    "start:chat:kratos:db-layer": "./scripts/start.sh kratos mysql db-layer rocket-chat",
    "start:detach": "./scripts/start.sh kratos api mysql db-layer -d",
    "start:kratos": "./scripts/start.sh kratos",
    "start:kratos:api": "./scripts/start.sh kratos mysql db-layer",
    "start:kratos:db-layer": "./scripts/start.sh kratos api",
    "start:mysql": "./scripts/start.sh mysql",
    "start:mysql:detach": "./scripts/start.sh mysql -d",
    "start:nbp": "./scripts/start.sh nbp kratos api mysql db-layer",
    "stop": "./scripts/stop.sh",
    "stop:clear": "./scripts/stop.sh -v"
  },
  "dependencies": {
    "@ory/client": "0.2.0-alpha.4",
    "@types/node": "^18.11.15",
    "js-sha1": "^0.6.0",
    "mysql": "^2.18.1",
    "prettier": "^2.8.1",
    "prettier-plugin-packagejson": "^2.3.0",
    "prettier-plugin-sh": "^0.12.8",
    "ts-node": "^10.9.1",
    "typescript": "^4.9.4"
  }
}
