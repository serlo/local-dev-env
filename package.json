{
  "name": "serlo-local-dev-env",
  "version": "0.0.0",
  "repository": "git@github.com:serlo/local-dev-env.git",
  "license": "Apache-2.0",
  "author": "Serlo Education e.V.",
  "type": "module",
  "scripts": {
    "docker-exec": "./scripts/docker-exec.sh",
    "format": "yarn prettier . --write",
    "kratos": "yarn start:kratos",
    "kratos:import-users": "RUN_IN_DOCKER=1 ./scripts/start.sh -f docker/db-layer.yml -f kratos/docker-compose.import-users-job.yml",
    "kratos:new-user": "./kratos/new-user.sh",
    "kratos:rebuild": "./scripts/docker-exec.sh up -d --force-recreate --no-deps --build kratos",
    "mongo:dump": "./scripts/docker-exec.sh -u root mongodb mongodump && docker-compose -f docker/net.yml -f docker/rocket-chat.yml cp mongodb:/dump ./dumps/mongodb",
    "mysql": "./scripts/docker-exec.sh mysql serlo-mysql",
    "mysql:import-anonymous-data": "ts-node --experimental-specifier-resolution=node scripts/mysql/mysql-import-anonymous-data",
    "mysql:rollback": "docker compose --file docker/net.yml --file docker/mysql.yml exec mysql sh -c \"pv /docker-entrypoint-initdb.d/001-init.sql | serlo-mysql\"",
    "postgres": "./scripts/docker-exec.sh postgres psql -U serlo -d kratos",
    "postgres:dump": "./scripts/docker-exec.sh postgres pg_dump --clean --if-exists kratos --user serlo > dumps/postgres/001-init.sql",
    "postgres:rollback": "./scripts/docker-exec.sh -T postgres bash -c 'psql -U serlo kratos < /docker-entrypoint-initdb.d/001-init.sql'",
    "prepare:rocket-chat": "./scripts/prepare_rocketchat.sh",
    "redis:cli": "./scripts/redis.sh",
    "redis:empty": "./scripts/redis.sh FLUSHDB",
    "redis:list": "./scripts/redis.sh KEYS '*'",
    "start": "./scripts/start.sh kratos api mysql db-layer",
    "start:chat": "./scripts/start.sh kratos api mysql db-layer rocket-chat",
    "start:chat:kratos:db-layer": "./scripts/start.sh kratos mysql db-layer rocket-chat",
    "start:detach": "./scripts/start.sh kratos api mysql db-layer -d",
    "start:kratos": "./scripts/start.sh kratos",
    "start:kratos:api": "./scripts/start.sh kratos api",
    "start:kratos:db-layer": "./scripts/start.sh kratos mysql db-layer",
    "start:mysql": "./scripts/start.sh mysql",
    "start:mysql:detach": "./scripts/start.sh mysql -d",
    "start:nbp": "./scripts/start.sh nbp kratos api mysql db-layer",
    "stop": "./scripts/stop.sh",
    "stop:clear": "./scripts/stop.sh -v"
  },
  "dependencies": {
    "@ory/client": "1.4.3",
    "@types/node": "^18.19.3",
    "js-sha1": "^0.6.0",
    "mysql": "^2.18.1",
    "prettier": "^3.1.0",
    "prettier-plugin-packagejson": "^2.4.7",
    "prettier-plugin-sh": "^0.13.1",
    "ts-node": "^10.9.2",
    "typescript": "^5.3.2"
  },
  "packageManager": "yarn@3.6.1"
}
